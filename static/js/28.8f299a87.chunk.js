(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[28],{1348:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(3),r=n(39),i=n(30),c=n(412),l=n(205),s=n(1306),b=n(38),u=n(0),o=["links","action","heading","moreLink","sx"];function j(e){var t=e.links,n=e.action,j=e.heading,d=e.moreLink,m=void 0===d?[]:d,O=e.sx,h=Object(r.a)(e,o);return Object(u.jsxs)(c.a,{sx:Object(a.a)({mb:5},O),children:[Object(u.jsxs)(c.a,{sx:{display:"flex",alignItems:"center"},children:[Object(u.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(u.jsx)(l.a,{variant:"h4",gutterBottom:!0,children:j}),Object(u.jsx)(b.b,Object(a.a)({links:t},h))]}),n&&Object(u.jsx)(c.a,{sx:{flexShrink:0},children:n})]}),Object(u.jsx)(c.a,{sx:{mt:2},children:Object(i.isString)(m)?Object(u.jsx)(s.a,{href:m,target:"_blank",variant:"body2",children:m}):m.map((function(e){return Object(u.jsx)(s.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},2186:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var a=n(1),r=n(1319),i=n(1300),c=(n(327),n(34)),l=n(84),s=n(414),b=n(1348),u=n(3),o=n(9),j=n.n(o),d=n(19),m=n(17),O=n(239),h=n(163),x=n(238),v=n(1294),f=n(2124),p=n(2160),g=n(2198),k=n(2180),y=n(206),I=n(415),S=n(49),C=n(0);function V(){var e=Object(y.c)((function(e){return e.VIHCollecte.intrantsName})),t=Object(a.useState)(""),n=Object(m.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(""),l=Object(m.a)(c,2),s=(l[0],l[1]),b=Object(a.useState)(0),o=Object(m.a)(b,2),V=o[0],q=o[1],w=Object(y.b)(),E=Object(h.useSnackbar)().enqueueSnackbar,A=(Object(S.a)().user,O.d().shape({mois:O.f().required("Entrer le mois de saisie"),intrant:O.f().required("Nom de l'intrant"),nombre:O.c().required("Nombre d'intrant requis"),year:O.c().required("Ann\xe9e requis")})),J=Object(x.c)({enableReinitialize:!0,initialValues:{mois:"",intrant:"",nombre:"",year:null},validationSchema:A,onSubmit:function(){var e=Object(d.a)(j.a.mark((function e(t,n){var a,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,i=n.setErrors,c={intrant:r.id,nombre:t.nombre,mois:V,year:t.year},e.prev=2,e.next=5,N(c);case 5:return e.next=7,F();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),a(!1),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()}),N=function(e){w(Object(I.d)(e)),E("Enregistrement effectu\xe9",{variant:"success"})},F=function(){i(""),B()},H=J.values,P=J.touched,M=J.errors,z=J.handleSubmit,B=J.resetForm,D=J.setFieldValue,L=J.isSubmitting,W=J.getFieldProps;return Object(a.useEffect)((function(){w(Object(I.k)())}),[]),Object(C.jsx)(x.b,{value:J,children:Object(C.jsx)(x.a,{noValidate:!0,autoComplete:"on",onSubmit:z,children:Object(C.jsxs)(f.a,{direction:"column",spacing:3,sx:{mt:3},children:[Object(C.jsx)(p.a,{disablePortal:!0,id:"intrant",name:"intrant",options:e,value:r,onChange:function(e,t){return i(t)},inputValue:H.valIntrant,onInputChange:function(e,t){return D("intrant",t)},renderInput:function(e){return Object(C.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{label:"Intrant",variant:"standard"}))}}),Object(C.jsx)(g.a,Object(u.a)(Object(u.a)({label:"Nombre",variant:"standard",name:"nombre",type:"number"},W("nombre")),{},{error:Boolean(P.nombre&&M.nombre),helperText:P.nombre&&M.nombre})),Object(C.jsx)(p.a,{disablePortal:!0,id:"mois",name:"mois",options:[{label:"Janvier",value:1},{label:"Fevrier",value:2},{label:"Mars",value:3},{label:"Avril",value:4},{label:"Mai",value:5},{label:"Juin",value:6},{label:"Juillet",value:7},{label:"Aout",value:8},{label:"Septembre",value:9},{label:"Octobre",value:10},{label:"Novembre  ",value:11},{label:"Decembre",value:12}],value:H.mois,onChange:function(e,t){return q(t.value)},inputValue:H.mois,onInputChange:function(e,t){return D("mois",t)},renderInput:function(e){return Object(C.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{label:"Mois",variant:"standard"}))}}),Object(C.jsx)(p.a,{disablePortal:!0,id:"year",name:"year",options:[{label:"2022"},{label:"2023"},{label:"2024"}],value:H.year,onChange:function(e,t){return s(t)},inputValue:H.year,onInputChange:function(e,t){return D("year",t)},renderInput:function(e){return Object(C.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{label:"Ann\xe9e",variant:"standard",type:"number"}))}}),Object(C.jsxs)(f.a,{direction:"row",spacing:2,children:[Object(C.jsx)(v.a,{variant:"contained",color:"primary",type:"submit",loading:L,onClick:z,children:"Enregistrer"}),Object(C.jsx)(k.a,{variant:"outlined",type:"button",onClick:function(){return F()},children:"Annuler"})]})]})})})}function q(){var e=Object(l.a)().themeStretch;return Object(C.jsx)(s.a,{title:"Intrant | e-zaho VIH",children:Object(C.jsxs)(r.a,{maxWidth:!e&&"lg",children:[Object(C.jsx)(b.a,{heading:"Enregistrement des intrants",links:[{name:"Dashboard",href:c.b.VIH.dashboard},{name:"Intrant",href:c.b.VIH.collecte}]}),Object(C.jsx)(i.a,{container:!0,spacing:3,children:Object(C.jsx)(i.a,{item:!0,xs:4,md:4,children:Object(C.jsx)(V,{})})})]})})}}}]);
//# sourceMappingURL=28.8f299a87.chunk.js.map