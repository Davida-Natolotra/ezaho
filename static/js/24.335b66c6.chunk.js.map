{"version":3,"sources":["components/HeaderBreadcrumbs.js","components/ezaho/NewPax.js","components/ezaho/CollecteForm.js","components/ezaho/CollecteTable.js","pages/ezaho/Collecte.js"],"names":["HeaderBreadcrumbs","links","action","heading","moreLink","sx","other","mb","display","alignItems","flexGrow","variant","gutterBottom","flexShrink","mt","isString","href","target","map","noWrap","PAXNewForm","currentPAX","useSelector","state","PAX","isEdit","CIU","ciu","lastSerialNumber","lastSerialNo","useState","valRegion","setValRegion","regions","location","sexes","VIHCollecte","setIsChanged","enqueueSnackbar","useSnackbar","dispatch","useDispatch","user","useAuth","isInit","useRef","PAXSchema","Yup","shape","prenom","required","code","nom_fb","nullable","notRequired","phone","sexe","region","formik","useFormik","enableReinitialize","initialValues","serial_no","validationSchema","onSubmit","values","a","setSubmitting","setErrors","dataSubmit","FormData","append","id","Number","console","log","updatePAX","createPAX","saveCIU","resetFormInit","getMyPAX","setShow","error","handleChange","getFieldProps","handleSubmit","touched","handleBlur","errors","setFieldValue","isSubmitting","resetForm","setEdit","resetPAX","useEffect","current","generateCIU","getLastSerialNumber","value","autoComplete","container","spacing","justifyContent","item","xs","direction","role","label","onChange","onBlur","name","Boolean","helperText","fullWidth","row","toLowerCase","control","disablePortal","options","event","newValue","inputValue","onInputChange","newInputValue","renderInput","params","type","size","loading","onClick","NewPAX","openDialog","show","handleCloseDialog","open","onClose","p","title","position","right","top","color","theme","palette","grey","CollecteForm","allCollectes","setAllCollectes","valPAX","setValPAX","valReference","setValReference","PAXs","sexeName","setId","Schema","referent","pax","responsable","submit","resetAllForm","resetSexe","getPAXFB","createCollecte","getRegions","getSexes","getSexe","filter","noValidate","Stack","Box","Typography","Button","textTransform","Autocomplete","getOptionLabel","option","nomFb","TextField","LoadingButton","CollecteTable","useTheme","collectes","ezaho","pageSize","setPageSize","isMobile","useMediaQuery","breakpoints","down","getCollectes","columns","field","headerName","minWidth","flex","sortable","hide","valueFormatter","Date","toLocaleDateString","year","month","day","checkboxSelection","disableSelectionOnClick","onPageSizeChange","newPageSize","rowsPerPageOptions","pagination","autoHeight","localeText","frFR","components","MuiDataGrid","defaultProps","rows","componentsProps","toolbar","printOptions","disableToolbarButton","showQuickFilter","quickFilterProps","debounceMs","Toolbar","GridToolbar","Collecte","themeStretch","useSettings","useLocation","pathname","useParams","Page","Container","maxWidth","PATH_DASHBOARD","EZAHO","dashboard","collecte","Grid","md"],"mappings":"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","file":"static/js/24.335b66c6.chunk.js","sourcesContent":["import { isString } from 'lodash';\nimport PropTypes from 'prop-types';\n// material\nimport { Box, Typography, Link } from '@material-ui/core';\n//\nimport { MBreadcrumbs } from './@material-extend';\n\n// ----------------------------------------------------------------------\n\nHeaderBreadcrumbs.propTypes = {\n  links: PropTypes.array,\n  action: PropTypes.node,\n  heading: PropTypes.string.isRequired,\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  sx: PropTypes.object\n};\n\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\n  return (\n    <Box sx={{ mb: 5, ...sx }}>\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {heading}\n          </Typography>\n          <MBreadcrumbs links={links} {...other} />\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        {isString(moreLink) ? (\n          <Link href={moreLink} target=\"_blank\" variant=\"body2\">\n            {moreLink}\n          </Link>\n        ) : (\n          moreLink.map((href) => (\n            <Link noWrap key={href} href={href} variant=\"body2\" target=\"_blank\" sx={{ display: 'table' }}>\n              {href}\n            </Link>\n          ))\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import * as Yup from \"yup\";\nimport PropTypes from \"prop-types\";\nimport { useSnackbar } from \"notistack5\";\nimport moment from \"moment\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Form, FormikProvider, useFormik } from \"formik\";\n// material\nimport { LoadingButton } from \"@material-ui/lab\";\nimport {\n\tCard,\n\tCardContent,\n\tChip,\n\tGrid,\n\tStack,\n\tRadio,\n\tSwitch,\n\tSelect,\n\tTextField,\n\tInputLabel,\n\tTypography,\n\tRadioGroup,\n\tFormControl,\n\tAutocomplete,\n\tInputAdornment,\n\tFormHelperText,\n\tFormControlLabel,\n\tButton,\n\tFormLabel,\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tTooltip,\n} from \"@mui/material\";\n\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nimport IconButton from \"@mui/material/IconButton\";\nimport frLocale from \"date-fns/locale/fr\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\nimport { frFR as calFR } from \"@mui/x-date-pickers\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n\tcreatePAX,\n\tresetPAX,\n\tsetEdit,\n\tsetShow,\n\tupdatePAX,\n\tgenerateCIU,\n\tsaveCIU,\n\tgetMyPAX,\n\tgetLastSerialNumber,\n} from \"../../redux/slices/pax\";\nimport useAuth from \"../../hooks/useAuth\";\n\n// ----------------------------------------------------------------------\n\n// ----------------------------------------------------------------------\n\nPAXNewForm.propTypes = {\n\tisEdit: PropTypes.bool,\n\tcurrentPAX: PropTypes.object,\n};\n\nfunction PAXNewForm() {\n\tconst currentPAX = useSelector((state) => state.PAX.PAX);\n\tconst { isEdit } = useSelector((state) => state.PAX);\n\tconst CIU = useSelector((state) => state.PAX.CIU.ciu);\n\tconst lastSerialNumber = useSelector((state) => state.PAX.lastSerialNo);\n\tconst [valRegion, setValRegion] = useState(\"\");\n\tconst regions = useSelector((state) => state.location.regions);\n\tconst sexes = useSelector((state) => state.VIHCollecte.sexes);\n\tconst [isChanged, setIsChanged] = useState(false);\n\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst dispatch = useDispatch();\n\n\tconst { user } = useAuth();\n\tconst isInit = useRef();\n\n\tconst PAXSchema = Yup.object().shape({\n\t\tprenom: Yup.string().required(\"Prénom requis\"),\n\t\tcode: Yup.string().required(\"code requis\"),\n\t\tnom_fb: Yup.string().nullable().notRequired(),\n\t\tphone: Yup.string().nullable().notRequired(),\n\t\tsexe: Yup.string().required(\"Sexe requis\"),\n\t\tregion: Yup.string().required(\"Région requise\"),\n\t\tciu: Yup.string().required(\"CIU requis\"),\n\t});\n\n\tconst formik = useFormik({\n\t\tenableReinitialize: true,\n\t\tinitialValues: {\n\t\t\tprenom: isEdit ? currentPAX.prenom : \"\",\n\t\t\tcode: isEdit ? currentPAX.code : \"\",\n\t\t\tnom_fb: isEdit ? currentPAX.nom_fb : \"\",\n\t\t\tphone: isEdit ? currentPAX.phone : \"\",\n\t\t\tsexe: isEdit ? currentPAX.sexe : \"\",\n\t\t\tregion: isEdit ? currentPAX.region : \"\",\n\t\t\tserial_no: isEdit ? currentPAX.serial_no : \"\",\n\t\t},\n\t\tvalidationSchema: PAXSchema,\n\t\tonSubmit: async (values, { setSubmitting, setErrors }) => {\n\t\t\tconst dataSubmit = new FormData();\n\t\t\tdataSubmit.append(\"prenom\", values.prenom);\n\t\t\tdataSubmit.append(\"code\", CIU);\n\t\t\tdataSubmit.append(\"nom_fb\", values.nom_fb);\n\t\t\tdataSubmit.append(\"phone\", values.phone);\n\t\t\tdataSubmit.append(\"sexe\", values.sexe);\n\t\t\tdataSubmit.append(\"region\", valRegion.id);\n\t\t\tdataSubmit.append(\"serial_no\", Number(lastSerialNumber) + 1);\n\t\t\tif (isEdit) {\n\t\t\t\tdataSubmit.id = currentPAX.id;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconsole.log(dataSubmit);\n\t\t\t\tif (isEdit) {\n\t\t\t\t\tawait dispatch(updatePAX(dataSubmit, currentPAX.id));\n\t\t\t\t} else {\n\t\t\t\t\tawait dispatch(createPAX(dataSubmit));\n\t\t\t\t}\n\t\t\t\tawait dispatch(saveCIU(CIU));\n\t\t\t\tresetFormInit();\n\t\t\t\tenqueueSnackbar(\n\t\t\t\t\t!isEdit\n\t\t\t\t\t\t? \"Nouvelle entrée enregistrée avec succès\"\n\t\t\t\t\t\t: \"Update success\",\n\t\t\t\t\t{ variant: \"success\" }\n\t\t\t\t);\n\n\t\t\t\tsetIsChanged(false);\n\t\t\t\tawait dispatch(getMyPAX());\n\t\t\t\tdispatch(setShow(false));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tsetSubmitting(false);\n\t\t\t\tsetErrors(error);\n\t\t\t}\n\t\t},\n\t});\n\n\tconst {\n\t\thandleChange,\n\t\tgetFieldProps,\n\t\tvalues,\n\t\thandleSubmit,\n\t\ttouched,\n\t\thandleBlur,\n\t\terrors,\n\t\tsetSubmitting,\n\t\tsetFieldValue,\n\t\tisSubmitting,\n\t\tresetForm,\n\t} = formik;\n\n\tconst resetFormInit = () => {\n\t\tsetIsChanged(false);\n\t\tdispatch(setEdit(false));\n\t\tdispatch(resetPAX());\n\t\tsetSubmitting(false);\n\t\tresetForm();\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEdit) {\n\t\t\tresetFormInit();\n\t\t}\n\t}, [isEdit]);\n\n\tuseEffect(() => {\n\t\tif (isInit.current) {\n\t\t\tisInit.current = false;\n\t\t} else {\n\t\t\tif (values.region && values.sexe) {\n\t\t\t\tdispatch(generateCIU({ sexe: values.sexe, region: valRegion.id }));\n\t\t\t}\n\t\t}\n\t}, [values.region, values.sexe]);\n\n\tuseEffect(() => {\n\t\tvalues.code = CIU;\n\t}, [CIU]);\n\n\tuseEffect(() => {\n\t\tdispatch(getLastSerialNumber());\n\t}, []);\n\n\treturn (\n\t\t<FormikProvider value={formik}>\n\t\t\t<Form autoComplete=\"off\" onSubmit={handleSubmit}>\n\t\t\t\t<Grid container spacing={3} justifyContent=\"center\">\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Stack spacing={3} direction=\"column\">\n\t\t\t\t\t\t\t\t\t{user.role === \"call\" ? (\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Télephone\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.phone}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.phone && errors.phone)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.phone && errors.phone}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Nom Facebook\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.nom_fb}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t\tname=\"nom_fb\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.nom_fb && errors.nom_fb)}\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.nom_fb && errors.nom_fb}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Prénom\"\n\t\t\t\t\t\t\t\t\t\tname=\"prenom\"\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\t\t\t{...getFieldProps(\"prenom\")}\n\t\t\t\t\t\t\t\t\t\terror={Boolean(touched.prenom && errors.prenom)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.prenom && errors.prenom}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl error={Boolean(touched.sexe && errors.sexe)}>\n\t\t\t\t\t\t\t\t\t\t<FormLabel id=\"demo-row-radio-buttons-group-label\">\n\t\t\t\t\t\t\t\t\t\t\tSexe\n\t\t\t\t\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\t\t\t\t\t\trow\n\t\t\t\t\t\t\t\t\t\t\taria-labelledby=\"demo-row-radio-buttons-group-label\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"sexe\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={values.sexe}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{sexes.map(\n\t\t\t\t\t\t\t\t\t\t\t\t(sexe) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsexe.name.toLowerCase() !== \"all\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={sexe.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={sexe.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t{touched.sexe && errors.sexe}\n\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\tdisablePortal\n\t\t\t\t\t\t\t\t\t\tid=\"region\"\n\t\t\t\t\t\t\t\t\t\toptions={regions}\n\t\t\t\t\t\t\t\t\t\tvalue={valRegion}\n\t\t\t\t\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\t\t\t\t\tsetValRegion(newValue);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tinputValue={values.region}\n\t\t\t\t\t\t\t\t\t\tonInputChange={(event, newInputValue) => {\n\t\t\t\t\t\t\t\t\t\t\tsetFieldValue(\"region\", newInputValue);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Région\"\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body1\">Code: {CIU}</Typography>\n\n\t\t\t\t\t\t\t\t\t<Stack spacing={1} direction=\"row\">\n\t\t\t\t\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\t\t\t\t\t// disabled={!isChanged}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tEnregistrer\n\t\t\t\t\t\t\t\t\t\t</LoadingButton>\n\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => resetFormInit()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNouveau\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Form>\n\t\t</FormikProvider>\n\t);\n}\nexport default function NewPAX() {\n\tconst openDialog = useSelector((state) => state.PAX.show);\n\tconst { isEdit } = useSelector((state) => state.PAX);\n\tconst dispatch = useDispatch();\n\tconst handleCloseDialog = () => dispatch(setShow(false));\n\treturn (\n\t\t<Dialog\n\t\t\topen={openDialog}\n\t\t\tonClose={handleCloseDialog}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle sx={{ p: 3 }}>\n\t\t\t\t{isEdit ? \"Edition\" : \"Nouveau PAX\"}\n\t\t\t\t{openDialog ? (\n\t\t\t\t\t<Tooltip title=\"Fermer\">\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"close\"\n\t\t\t\t\t\t\tonClick={handleCloseDialog}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\tright: 8,\n\t\t\t\t\t\t\t\ttop: 8,\n\t\t\t\t\t\t\t\tcolor: (theme) => theme.palette.grey[500],\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : null}\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<PAXNewForm />\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n","import * as Yup from \"yup\";\nimport PropTypes from \"prop-types\";\nimport { useSnackbar } from \"notistack5\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Form, FormikProvider, useFormik } from \"formik\";\n// material\nimport { LoadingButton } from \"@material-ui/lab\";\nimport {\n\tStack,\n\tTextField,\n\tTypography,\n\tAutocomplete,\n\tButton,\n\tBox,\n} from \"@mui/material\";\nimport { useSelector, useDispatch } from \"react-redux\";\n// utils\nimport { getRegions } from \"../../redux/slices/location\";\nimport { getSexes } from \"../../redux/slices/collecteVIH\";\nimport { createCollecte } from \"../../redux/slices/ezaho\";\nimport {\n\tsetShow,\n\tgetPAXFB,\n\tgetSexe,\n\tresetPAX,\n\tresetSexe,\n} from \"../../redux/slices/pax\";\nimport useAuth from \"../../hooks/useAuth\";\n\n// ----------------------------------------------------------------------\n\nCollecteForm.propTypes = {\n\tisEdit: PropTypes.bool,\n\tcurrentProduct: PropTypes.object,\n};\n\nexport default function CollecteForm() {\n\tconst [allCollectes, setAllCollectes] = useState([]);\n\tconst [valTypeCible, setValTypeCible] = useState(\n\t\tuseSelector((state) => state.PAX.PAX) | \"\"\n\t);\n\tconst [valPAX, setValPAX] = useState(\"\");\n\tconst [valReference, setValReference] = useState(\"\");\n\n\tconst PAXs = useSelector((state) => state.PAX.PAXs);\n\n\tconst regions = useSelector((state) => state.location.regions);\n\n\tconst listeReferents = [\n\t\t{ label: \"VIH\" },\n\t\t{ label: \"WHP\" },\n\t\t{ label: \"PF\" },\n\t\t{ label: \"COVID\" },\n\t];\n\tconst sexeName = useSelector((state) => state.PAX.sexe);\n\tconst [valRegion, setValRegion] = useState(\"\");\n\n\tconst dispatch = useDispatch();\n\tconst [id, setId] = useState(0);\n\tconst { enqueueSnackbar } = useSnackbar();\n\tconst { user } = useAuth();\n\n\tconst Schema = Yup.object().shape({\n\t\tregion: Yup.string().required(\"Entrer la région du PAX\"),\n\t\tsexe: Yup.number().required(\"Entrer le sexe du PAX\"),\n\t\treferent: Yup.string().required(\"Entrer le référent du PAX\"),\n\t});\n\tconst formik = useFormik({\n\t\tenableReinitialize: true,\n\t\tinitialValues: {\n\t\t\tPAX: \"\",\n\t\t\tCIU: \"\",\n\t\t\tregion: \"\",\n\t\t\treferent: \"\",\n\t\t\tsexe: \"\",\n\t\t},\n\t\tvalidationSchema: Schema,\n\t\tonSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\n\t\t\tconst dataSubmit = {\n\t\t\t\tpax: valPAX.id,\n\t\t\t\treferent: values.referent,\n\t\t\t\tresponsable: user.id,\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tawait submit(dataSubmit);\n\t\t\t\tawait resetAllForm();\n\t\t\t\tawait dispatch(resetPAX());\n\t\t\t\tsetValPAX(null);\n\t\t\t\tawait dispatch(resetSexe());\n\t\t\t\tenqueueSnackbar(\"Enregistrée avec succès\", { variant: \"success\" });\n\t\t\t\tawait dispatch(getPAXFB());\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tsetSubmitting(false);\n\t\t\t\tsetErrors(error);\n\t\t\t}\n\t\t},\n\t});\n\n\tconst submit = (values) => {\n\t\tsetAllCollectes([...allCollectes, { id, ...values }]);\n\t\tsetId(id + 1);\n\t\tconsole.log(values);\n\t\tdispatch(createCollecte(values));\n\t};\n\tconst handleNew = () => {\n\t\tdispatch(setShow(true));\n\t};\n\n\tconst resetAllForm = () => {\n\t\tresetForm();\n\t\tsetValReference(\"\");\n\t};\n\n\tconst {\n\t\thandleChange,\n\t\tvalues,\n\t\thandleSubmit,\n\t\ttouched,\n\t\thandleBlur,\n\t\terrors,\n\t\tresetForm,\n\t\tsetFieldValue,\n\t\tisSubmitting,\n\t} = formik;\n\n\t// Data\n\tconst isInit = useRef(true);\n\n\tuseEffect(() => {\n\t\tdispatch(getRegions());\n\t\tdispatch(getSexes());\n\t\tdispatch(getPAXFB());\n\t}, []);\n\n\tuseEffect(() => {\n\t\tdispatch(getSexe(valPAX?.sexe));\n\t\tvalues.sexe = valPAX?.sexe;\n\t\tconsole.log(`sexe: ${sexeName}`);\n\t\tsetValRegion(regions.filter((item) => item.id === valPAX?.region)[0]);\n\t}, [valPAX]);\n\n\treturn (\n\t\t<FormikProvider value={formik}>\n\t\t\t<Form noValidate autoComplete=\"on\" onSubmit={handleSubmit}>\n\t\t\t\t<Stack direction=\"column\" spacing={3} sx={{ mt: 3 }}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">PAX</Typography>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleNew}\n\t\t\t\t\t\t\t\tsx={{ textTransform: \"none\" }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAjouter nouveau PAX\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tdisablePortal\n\t\t\t\t\t\tname=\"nomFb\"\n\t\t\t\t\t\toptions={PAXs}\n\t\t\t\t\t\tgetOptionLabel={(option) => option?.nom_fb || \"\"}\n\t\t\t\t\t\tvalue={valPAX}\n\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\tsetValPAX(newValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tinputValue={values.nomFb}\n\t\t\t\t\t\tonInputChange={(event, newInputValue) => {\n\t\t\t\t\t\t\tsetFieldValue(\"nomFb\", newInputValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel=\"Nom Facebook du PAX\"\n\t\t\t\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Typography variant=\"body1\">Prenom PAX: {valPAX?.prenom} </Typography>\n\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tNom facebook: {valPAX?.nom_fb}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant=\"body1\">Sexe: {sexeName}</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">CIU: {valPAX?.code}</Typography>\n\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tdisablePortal\n\t\t\t\t\t\tid=\"region\"\n\t\t\t\t\t\toptions={regions}\n\t\t\t\t\t\tvalue={valRegion}\n\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\tsetValRegion(newValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tinputValue={values.region}\n\t\t\t\t\t\tonInputChange={(event, newInputValue) => {\n\t\t\t\t\t\t\tsetFieldValue(\"region\", newInputValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t<TextField {...params} label=\"Région\" variant=\"standard\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Typography variant=\"subtitle1\">Référé à</Typography>\n\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tdisablePortal\n\t\t\t\t\t\tid=\"referent\"\n\t\t\t\t\t\toptions={listeReferents}\n\t\t\t\t\t\tvalue={valReference}\n\t\t\t\t\t\tonChange={(event, newValue) => {\n\t\t\t\t\t\t\tsetValReference(newValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tinputValue={values.referent}\n\t\t\t\t\t\tonInputChange={(event, newInputValue) => {\n\t\t\t\t\t\t\tsetFieldValue(\"referent\", newInputValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t<TextField {...params} label=\"Référé à\" variant=\"standard\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Stack direction=\"row\" spacing={2}>\n\t\t\t\t\t\t<LoadingButton\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tloading={isSubmitting}\n\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEnregistrer\n\t\t\t\t\t\t</LoadingButton>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => resetAllForm()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnnuler\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Stack>\n\t\t\t</Form>\n\t\t</FormikProvider>\n\t);\n}\n","import { useState, useEffect } from \"react\";\nimport { DataGrid, GridToolbar, frFR } from \"@mui/x-data-grid\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { getCollectes } from \"../../redux/slices/ezaho\";\n\nfunction CollecteTable() {\n\tconst theme = useTheme();\n\tconst { collectes } = useSelector((state) => state.ezaho);\n\t// const loading = useSelector((state) => state.VIH.isLoading);\n\tconst [pageSize, setPageSize] = useState(10);\n\tconst isMobile = useMediaQuery(theme.breakpoints.down(\"lg\"));\n\tconst dispatch = useDispatch();\n\n\t// const myCollectes = [];\n\tconst loading = false;\n\tuseEffect(() => {\n\t\tdispatch(getCollectes());\n\t}, []);\n\n\tconst columns = [\n\t\t{\n\t\t\tfield: \"pax\",\n\t\t\theaderName: \"PAX\",\n\t\t\tminWidth: 50,\n\t\t\tflex: 2,\n\t\t},\n\n\t\t{\n\t\t\tfield: \"date_collecte\",\n\t\t\theaderName: \"Date de collecte\",\n\t\t\tminWidth: 100,\n\t\t\tflex: 2,\n\t\t\tsortable: true,\n\t\t\thide: isMobile,\n\t\t\tvalueFormatter: (params) =>\n\t\t\t\tnew Date(params?.value).toLocaleDateString(\"fr-fr\", {\n\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\tmonth: \"numeric\",\n\t\t\t\t\tday: \"numeric\",\n\t\t\t\t}),\n\t\t},\n\t\t{\n\t\t\tfield: \"referent\",\n\t\t\theaderName: \"Référé à\",\n\t\t\tminWidth: 150,\n\t\t\tflex: 2,\n\t\t\tsortable: true,\n\t\t\thide: isMobile,\n\t\t},\n\t];\n\n\treturn (\n\t\t<DataGrid\n\t\t\tcheckboxSelection\n\t\t\tdisableSelectionOnClick\n\t\t\tloading={loading}\n\t\t\tpageSize={pageSize}\n\t\t\tonPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\n\t\t\trowsPerPageOptions={[5, 10, 50]}\n\t\t\tpagination\n\t\t\tautoHeight\n\t\t\tlocaleText={frFR.components.MuiDataGrid.defaultProps.localeText}\n\t\t\tcolumns={columns}\n\t\t\trows={collectes}\n\t\t\tcomponentsProps={{\n\t\t\t\ttoolbar: {\n\t\t\t\t\tprintOptions: { disableToolbarButton: true },\n\t\t\t\t\tshowQuickFilter: true,\n\t\t\t\t\tquickFilterProps: { debounceMs: 500 },\n\t\t\t\t},\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\tToolbar: GridToolbar,\n\t\t\t}}\n\t\t/>\n\t);\n}\n\nexport default CollecteTable;\n","import { useEffect } from \"react\";\nimport { paramCase } from \"change-case\";\nimport { useParams, useLocation } from \"react-router-dom\";\n// material\nimport { Container, Grid } from \"@material-ui/core\";\n// redux\nimport { useDispatch, useSelector } from \"../../redux/store\";\n\n// routes\nimport { PATH_DASHBOARD } from \"../../routes/paths\";\n// hooks\nimport useSettings from \"../../hooks/useSettings\";\n// components\nimport Page from \"../../components/Page\";\nimport HeaderBreadcrumbs from \"../../components/HeaderBreadcrumbs\";\nimport CollecteForm from \"../../components/ezaho/CollecteForm\";\nimport CollecteTable from \"../../components/ezaho/CollecteTable\";\nimport NewPAX from \"../../components/ezaho/NewPax\";\n\n// ----------------------------------------------------------------------\n\nexport default function Collecte() {\n\tconst { themeStretch } = useSettings();\n\tconst dispatch = useDispatch();\n\tconst { pathname } = useLocation();\n\tconst { name } = useParams();\n\n\treturn (\n\t\t<Page title=\"Collecte | e-zaho VIH\">\n\t\t\t<Container maxWidth={themeStretch ? false : \"lg\"}>\n\t\t\t\t<HeaderBreadcrumbs\n\t\t\t\t\theading={\"Collecte des données messenger\"}\n\t\t\t\t\tlinks={[\n\t\t\t\t\t\t{ name: \"Dashboard\", href: PATH_DASHBOARD.EZAHO.dashboard },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"Collecte\",\n\t\t\t\t\t\t\thref: PATH_DASHBOARD.EZAHO.collecte,\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<NewPAX />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t\t\t<CollecteForm />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={8}>\n\t\t\t\t\t\t<CollecteTable />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</Page>\n\t);\n}\n"],"sourceRoot":""}